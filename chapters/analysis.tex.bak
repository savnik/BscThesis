%!TEX root = ../Thesis.tex

\chapter{Analysis}

\section{Background}
It is desired to develop a platform for tether control of UAV. Such a platform can have many applications in the industrial world - which also raises a number of requirements for reliability and robust design. \\
\\
The project has several issues which needs to be addressed in the analysis in order to make a design requirement specification. This analysis will cover the issues and the solutions of the issues will be addressed in the prototype chapter 


\section{Platform for Tethered UAV}
A platform for tether control of UAV must have 3 basic elements; the UAV, a power line and a ground station. The ground station supplies the power line with power and keeps track of the cable. The UAV must be able to land and take-off from the ground station. The power line must be light enough for the UAV to lift it. The ground station must assure that the power line is not touching the ground by releasing or pulling cable.

\begin{figure}[H]
\centering
\includegraphics[scale=0.5]{graphics/overall-system.png}
\caption{Illustration of key elements for a platform for tethered UAV}
\end{figure}




\section{Power line}

Every cable has an electrical loss, and this factor contributes significantly when the cable is long and has a low cross-sectional area. It is wanted to have a cable that is as long as possible, but the UAV can only lift a limited amount of payload. The cross-sectional area and the length has a big impact on the weight. Investigating the electrical loss in the cable results in the cable specification requirements. 
 
\noindent
It is assumed the UAV requires 500 watt at 12 volt when using maximal thrust.\todo{Inds√¶t referance til Mikkel} To be on the safe side a tolerance of 10 per cent is added, ending up with supplying the UAV with 550 watt. 
The loss in the cable can now be calculated as following. 
$P$ is the power in Watt, $U$ is the voltage in Volt, $l$ is the cable distance in meter, $\rho$ is the electrical resistivity in $\Omega \cdot m$ and $A$ is the cross sectional area in $m^2$.
\noindent
The current $I[A]$ through the wires is given by the power divided with the voltage.
\begin{equation}
I = P/U
\end{equation}
\noindent
The resistance $R[\Omega]$ per unit length is to be determined by the electrical resistivity $\rho [\Omega \cdot m]$ divided by the conductors cross sectional area, $A$.

\begin{equation}
R = \frac{\rho}{A}
\end{equation}
\noindent
The voltage drop $U_{drop}[V]$ per unit length is to be determined by  the current times the resistance.

\begin{equation}
U_{drop} = I \cdot R
\end{equation}
\noindent
The voltage drop depends heavily on the current going through the wire. It is favourably to have a high voltage and low current to minimize the voltage drop. It is a commonly known method used in power supply systems all over the world. For a low voltage the percent of voltage drop is very high, as illustrated on figure \ref{fig:relation_voltage_drop}.

\begin{figure}[H]
\centering
\includegraphics[scale=0.75]{graphics/matlab/cable_relation_voltage_drop.eps}
\caption{Relationship between Voltage drop and cable length per Ampere over a 50m cable. A is the cross-sectional area of the conductor.}
\label{fig:relation_voltage_drop}
\end{figure}

\noindent
In order to avoid the Low Voltage Directive \cite{Parliament2006} the DC voltage must be less or equal to 75 volt. For this application 75 volt DC is easily achieved with standard components and therefore set as the power transmission voltage. \\

\noindent
The cable loss $P_{loss}[W]$ per unit length is now given by
\begin{equation}
P_{loss} = I^2 \cdot R
\end{equation}
\noindent
The loss in the cable needs to be minimal. A known method to minimize the loss on the cable is to step up the voltage. This is because of the fact the loss depends on the current squared times resistivity and independent of the voltage. 


\begin{figure}[H]
\centering
\includegraphics[scale=0.6]{graphics/matlab/cable_relation_lenght_loss_crosssection.eps}
\caption{Relationship between cable length, cross-sectional area and loss. Calculated with copper resistivity and for both + and GND conductor cores.}
\label{fig:relationship_loss_length}
\end{figure}
\todo{Check udregning om den der dobbelt}

From figure \ref{fig:relationship_loss_length} it is seen that electrical loss is the conductor also depends on length and cross-sectional area of the conductor. 


\section{Tension force in the Cable}
In a simplified model the weight of the cable will only drag the UAV on one axis, towards the ground station. On the UAV there is one loadcell mounted, measuring the force in the direction of the tension. The output of the loadcell will enable the ground station to decide weather it should roll cable out or in. How ever this simplified model assumes the UAV to be perpendicular to the cable at all times. 
That will in the real world only be true when it hovers directly over the ground station. As the UAV goes to one of the sides it will try to maintain horizontal pitch/tilt \todo{definer udtryk}. The cable will try to drag it in the direction of the ground station, making giving the UAV at steady force to work against. Because of aerodynamics the UAV will tilt in some extend to work against the tension. If this tilt get to large the UAV will lose it's lifting capability and therefore stall and crash towards the ground.   

\subsection{Modelling the tension in the free hanging cable}
Modelling the cable in the real world has a great complexity and in order to make a robust design we must assume the surrounds are not ideal. The ideal case is the cable is hanging as a direct line, as seen on figure \ref{fig:cable_model_cases}. Only at the anchor point the cable touches the ground. Worst case seanario is all cable is lying on the ground, except what is directly underneath the UAV. It can be assumed that the cable will be in between the direct line and worst case. The maximal position error will be the difference between the direct line and worst case line, calculated to approximately $14.65$ meters or 29.3\%. 

\begin{figure}[H]
\centering
\includegraphics[scale=1]{graphics/matlab/cable_arc_approx.eps}
\caption{Diagram showing 4 ways of approximate the cables position. The direct line the the ideal case. The area between the ideal and worst case is the actual working area where it's assumed the position of the UAV to be. Position estimation using a circular shape and catenary chain to approximate the position.}
\label{fig:cable_model_cases}
\end{figure}

\noindent
Both the direct line and worst case is possible, but highly unlikely in the real world. A cable hanging between two point will have a curved shape from the sag. If the curve from the sag can be described as an circle, the cable will curve uniformly over the hole length. This assumes the cable has no mass, but in the real world it has.
The catenary chain is close to an parabolic shape but describes the curve of a freely hanging chain with the weight uniformly distributed\cite{Whewelll1833}. The catenary equation has the form
\begin{equation}
y = a \cdot \cosh\left(\frac{x}{a}\right)
\end{equation}
The catenary chain assumes the cable is so flexible that any force exerted by the chain is parallel to the chain. This set a requirement for the bending radius for the cable to be much less than the length of the cable.
The weight of the cable pull the UAV down and towards the anchor point. Let the point $c$ be the anchor point to the ground and $r$ be a force vector at the anchor point on the UAV. $r$ must be at a higher point than $c$. The force $T_0$ at point $c$ is tangential to the curvature thus only has a $x$ component. The force $T$ at point $r$ is tangential to the curvature at point $r$ and can be described as
\begin{equation}
T = T \cos(\phi) +  \sin(\phi)
\end{equation} 
$\phi$ is the angle between the $x$ axis and the force vector and $T$ is the magnitude of the force. The cable weight is represented as $\lambda$ per unit length. $g$ is the gravitational force and $s$ is the length of the cable. The downward force is therefore $-y \lambda g s$

\begin{figure}[H]
\centering
\includegraphics[scale=0.25]{graphics/CatenaryForceDiagram.png}
\caption{Catenary Chain Force diagram displaying forces acting from anchor point $c$ to point $r$. $T_0$ is the tension at anchor point $c$ and $T$ is the tension at point $r$. Note that the $y$ axis in this diagram will correspond to the height later denoted as $z$.}
\label{fig:catenary_force_diagram}
\end{figure}

\noindent
In this analysis the cable is in equilibrium thus the sum of the tree forces is zero. Splitting up the sum in $x$ and $y$ components gives
\begin{eqnarray}
T\cos(\phi) =& T_0 \\
T \sin(\phi) =& \lambda g s
\end{eqnarray}
This gives the expected force at $T$ as a function of either the force at the anchor point or the cable length and $\phi$.
\begin{equation}
T = \frac{T_0}{cos(\phi)} = \frac{\lambda g s}{\sin(\phi)}
\end{equation}

To be able to model the cable using the catenary chain 4 parameters must be available; The tension at anchor point $T_0$, the angle at the UAV $\phi$ and the length of the cable.

\noindent
This model excludes all cases where either the UAV is below the anchor point or the cable partially is below the anchor point.



   

\subsubsection{Horizontal Angular Force Messurement}
\todo{Lav diagram med pile}

For measuring the horizontal angle, $\phi$, relative to the Ground Control Station and the UAV; a 2-axis measuring device is needed. The two axis must be perpendicular to each other. In that way a scalar of two unit vectors $\hat{x}$ and $\hat{y}$ can represent the tension from the cable in a combination of each direction. 
From the length scaled of the scaled vectors $\overline{X}$ and $\overline{Y}$ the angle $phi$ can be found.

\begin{equation}
\phi = atan2 (Y,  X) = 2 \cdot arctan \frac{\sqrt{X^2+Y^2}-X}{Y}
\end{equation}

\noindent
$\phi$ is the angle from the positive $\hat{x}$-direction and increases counter clockwise. 

\noindent
The length of $\overline{XY}$ is given by:
\begin{equation}
\overline{XY} = \sqrt{X^2+Y^2}
\end{equation}

\noindent
The length og $\overline{XY}$ corresponds to the total tension in the cable in $\phi$ direction. 

\subsection{Loadcell}
The loadcells used in this project is a single-point loadcell. The choice of loadcell was determined by the availability/flexibility to easily create multidimensional measurements and the cost. A loadcell is basic a strain gauge(flexibly resistor pattern) that will change resistance when bended, mountet on a flexible material. In this case a block of Aluminium is cut out and a strain gauge is mounted. When the Aluminium is exerted with a force or weight it will bend slightly, causing a small change of resistance in the straingauge. The change of resistance can be measured by a Wheatstone bridge, as the one on the Phidget bridge. 

The calibration of the loadcell is very important to obtain a value that fits the theory. The calibration converts the measured voltage to the measured force.
\begin{eqnarray}
F =& K_f \cdot (V_{in} - b)\\
W =& K_w \cdot (V_{in} - b)
\end{eqnarray}
$F$ and $W$ is the expected force and weight. $K$ is a gain value depending on weather the output unit is force or weight. The offset $b$ will vary between individual loadcell, even from the same batch. $V_{in}$ is the voltage reading from the Phidget bridge.

When dealing with multiple loadcells there are two ways of configure them electrical wise. First is to measure each loadcell individual and second to measure all together. The first one has the advantage of being able to messenger each loadcell individually, but the disadvantage of using many inputs and each loadcell needs to be calibrated individually. Second one has the advantage of only using 1 input on the bridge and all cells can be calibrated together, but the disadvantage of all loadcells need to be of same type and size and not being able to measure each loadcell individually. In this project the information of direction of tension is important and because of that measuring each loadcell individually is the best solution. \cite{PhidgetsInc.2012}


\section{Design Requirement Specification}
\begin{itemize}
\item Supply the UAV with 120V DC and 500W
\item The weight of the cable must not be greater than the lifting capability of approximate 3kg.
\item The system must not be subject to the Electrical Safety: Low Voltage Directive, and therefore keep any voltage under 75 volt DC \cite{Parliament2006}.
\item Given the cheap cost of UAVs today, the solution must keep a low material cost.
\item Measuring the total horizontal force at the anchor point.
\item Measuring the total force and angle at the UAV.
\item Measuring the length of the free hanging cable.
\end{itemize}





